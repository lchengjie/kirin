<template>
  <Detail :is-edit="false" :wizard="wizard"/>
</template>

<script setup lang="ts">
import { onMounted, ref } from 'vue';
import { useRoute, useRouter } from 'vue-router';
import Detail from './components/detail.vue'

import { GENERAL_ERROR_PAGE_NAME } from '@/router/constant';

const wizard = ref({})

const route = useRoute()
const router = useRouter()

const bpaMetaPkey = route.query.bpaMetaPkey as string;
console.log("ğŸš€ ~ onMounted ~ bpaMetaPkey route.query:", route)
if (!bpaMetaPkey) {
  // è½¬404
  router.push({ name: GENERAL_ERROR_PAGE_NAME })
}
wizard.value = {
  bpaMetaPkey,
  active: true,
  closed: false,
  bpaType: 'C'
}

// åœ¨ç»„ä»¶æŒ‚è½½åæ‰“å°è·¯ç”±å‚æ•°
onMounted(() => {
  // å‡è®¾æˆ‘ä»¬è¦è·å–åä¸º 'id' çš„è·¯ç”±å‚æ•°
  // const bpaMetaPkey = route.query.bpaMetaPkey as string;
  // console.log("ğŸš€ ~ onMounted ~ bpaMetaPkey route.query:", route)
  // wizard.value = {
  //   bpaMetaPkey,
  //   active: true,
  //   closed: false,
  //   bpaType: 'C'
  // }
});

</script>