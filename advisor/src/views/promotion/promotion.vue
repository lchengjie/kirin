<template>
  <div>Promotion Overview Page</div>
  <div>
    <div v-for="item in proo.grids" :key="item.name" class="mb-2 border-red">
      <span class="mx-2 b-red b-solid b-3">{{ item.name }}</span>
      <span class="mx-2 b-dashed b-1 b-green">{{ item.type }}</span>
      
      <div v-for="column in item.columns" :key="column.key" class="pl-2 border-1">
        <span class="m-2">{{ column.key }}</span>
        <span class="m-2">{{ column.label }}</span>
      </div>
    </div>
    <!-- {{ proo.grids }} -->
  </div>
</template>

<script setup lang="ts">
  // å½“å‰è·¯ç”±çš„è·¯ç”±ä¿¡æ¯
  // detailContext
  import { useRouter } from 'vue-router';
  const router = useRouter()
  const { meta: { detailContext, profile }} = router.currentRoute.value
  console.log("ğŸš€ ~ detailContext, profile:", detailContext, profile)
  
  // å¼•ç”¨ cfg
  import { useCfgStore } from '@/stores/modules/cfg';

  // åˆå§‹åŒ–cfg store
  const bbb = useCfgStore()
  // è·å–æ‰€æœ‰config
  const uuuuu = bbb.globalConfig
  // è·å–Grid Configï¼ŒåŒ…æ‹¬overviewçš„å’Œè¡¨æ ¼çš„
  const proo = bbb.getGridConfig('promotion')
  // è·å–ç•Œé¢ä¸Šç”¨äºæ˜¾ç¤ºçš„åˆ—çš„é…ç½®ä¿¡æ¯
  const mycolumn = bbb.getMyColumn('promotion', 'promotion', 'overview')
  // è·å–rules configï¼Œè¡¨å•éªŒè¯è§„åˆ™
  const rules = bbb.getRulesConfig('promotion')
  // è·å–detailé¡µé¢çš„ä¿¡æ¯ï¼Œå³tabä¸Šçš„foldingcardé…ç½®
  const detailConfig = bbb.getPageDetailConfig('promotion', 'defaultDetail')
  // è·å–Wizardä¿¡æ¯ï¼Œå¦‚åˆ›å»ºpromotionçš„wizardè¡¨å•ä¿¡æ¯
  const wizardConfig = bbb.getPageWizardConfig('promotion', 'defaultWizard')
  // è·å–overviewçš„filteré…ç½®ä¿¡æ¯
  const overviewGridfilterConfig = bbb.getOverviewGridFilterConfig('promotion', 'PromotionOverview')
  
  // bbb.accessGroupConfig
  // bbb.accessGroupConfig['promotion']
  // bbb.detailContextConfig
  // bbb.profileConfig
  console.log("ğŸš€ ~ bbb.profileConfig:", bbb.profileConfig)
  console.log("ğŸš€ ~ bbb.detailContextConfig:", bbb.detailContextConfig)
  console.log("ğŸš€ ~ bbb.accessGroupConfig:", Object.keys(bbb.accessGroupConfig))
  
  console.log("ğŸš€ ~ mycolumn:", mycolumn)
  console.log("ğŸš€ ~ overviewGridfilterConfig:", overviewGridfilterConfig)

  console.log("ğŸš€ ~ wizardConfig:", wizardConfig)
  console.log("ğŸš€ ~ detailConfig:", detailConfig)
  console.log("ğŸš€ ~ rules:", rules)
  console.log("ğŸš€ ~ uuuuu111:", uuuuu, proo)

</script>